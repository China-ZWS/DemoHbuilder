<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.min.css" rel="stylesheet" />
	</head>
	<body>
		<div class="mui-content">
			<ul id="list" class="mui-table-view mui-table-view-chevron">
				<li class="mui-table-view-cell mui-collapse">
					<a class="mui-navigate-right" href="#">
						tab bar（选项卡）
					</a>
					<ul class="mui-table-view mui-table-view-chevron">
						<li class="mui-table-view-cell">
							<a class="mui-navigate-right" data-title-type="native" href="UI/mainTabBar/tab-webview-main.html">
								底部选项卡-div模式
							</a>
						</li>
						<li class="mui-table-view-cell mui-plus-visible">
							<a class="mui-navigate-right" href="examples/tab-webview-main.html">
								底部选项卡-webview模式
							</a>
						</li>
						<li class="mui-table-view-cell">
							<a class="mui-navigate-right" href="examples/tabbar-with-submenus.html">
								底部选项卡-二级菜单(div)
							</a>
						</li>
						<li class="mui-table-view-cell">
							<a class="mui-navigate-right" href="examples/tab-with-segmented-control.html">
								顶部选项卡-div模式
							</a>
						</li>
						<li class="mui-table-view-cell">
							<a class="mui-navigate-right" href="examples/tab-with-viewpagerindicator.html">
								顶部选项卡-可左右拖动(div)
							</a>
						</li>
						<li class="mui-table-view-cell mui-plus-visible">
							<a class="mui-navigate-right" data-wid="viewgroup" href="examples/tab-top-webview-main.html">
								顶部选项卡-可左右拖动(webview)
							</a>
						</li>
						<li class="mui-table-view-cell">
							<a class="mui-navigate-right" data-title-type="native" href="examples/tab-with-segmented-control-vertical.html">
								左侧选项卡-div模式
							</a>
						</li>
						<li class="mui-table-view-cell">
							<a class="mui-navigate-right" data-title-type="native" href="examples/tab-vertical-scroll.html">
								左侧选项卡-div模式-联动高亮
							</a>
						</li>
					</ul>
				</li>
			</ul>
		</div>

		<script src="js/mui.min.js"></script>
		<script src="js/Common/erp_navigaitonBar.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			mui.init()
			mui.plusReady(function() {
				var titleView = plus.webview.currentWebview().getNavigationbar();
				titleView.addEventListener("click", function(e) {

				});
			});
			
			mui('#list').on('tap', 'a', function() {
				var id = this.getAttribute("data-wid");
				if(!id) {
					id = this.getAttribute('href');
				}
				var href = this.getAttribute('href');

//				//非plus环境，直接走href跳转
//				if(!mui.os.plus) {
//					location.href = href;
//					return;
//				}
//
				var titleType = this.getAttribute("data-title-type");
//
				var webview_style = {
					popGesture: "close"
				}
				var extras = {};

	
				if(titleType == "native") {
					//如下场景不适用下拉回弹：
					//1、单webview下拉刷新；2、底部有fixed定位的div的页面
//					if(!~id.indexOf('pullrefresh.html') && !~href.indexOf("examples/tabbar.html") && !~href.indexOf("list-to-detail/listview.html")) {
//						webview_style.bounce = "vertical";
//					}
//					//图标页面需要启动硬件加速
//					if(~id.indexOf('icons.html') || ~id.indexOf("echarts.html")) {
//						webview_style.hardwareAccelerated = true;
//					}
//					if(~id.indexOf('im-chat.html')) {
//						extras.acceleration = "none";
//					}
//
//					webview_style.statusbar = {
//						background: "#f1f7f7"
//					}

					mui.openWindowWithTitle({
						url: href,
						id: id,
						styles: webview_style,
						show: {
							event: "loaded",
							extras: extras
						},
						waiting: {
							autoShow: false
						}
					}, {
						title: {
							text: this.innerText.trim()
						},
						back: {
							image: {
								base64Data: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAb1BMVEUAAAAAev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8Aev8AAACubimgAAAAI3RSTlMAGfUTGfQTGPMSGPIYGhgaGBsXGxcbFxwXHBccFhwWHRYdHWufDPQAAAABYktHRACIBR1IAAAAB3RJTUUH4QETEBwooeTlkQAAAJVJREFUSMft1EkSgkAQRNFGUXFWHBDBibr/HTUwD5B/48Ig1y+io7u6MqUhf5hsNEY+j5hMgZ/FJ8Xc9ovos3T96utjbfqN/Nb0O/m96Uv5g+mP8ifTn+Ur01/ka9Nf5RvTt/I309/lH6Z/yr9Mn+Q71/MT8B34K/E58Enzv8R/K98HvnF8p3lr8F7izce7lbf3kJ/lDQp9HdBhgg3PAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE3LTAxLTE5VDE2OjI4OjQwKzA4OjAwpTDFwQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNy0wMS0xOVQxNjoyODo0MCswODowMNRtfX0AAAAASUVORK5CYII="
							}
						}
					});
				} 
			});
		</script>
	</body>

</html>